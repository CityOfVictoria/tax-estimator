"use strict";function r(t,e,n,i,r){return new Promise(function(o){var s=new XMLHttpRequest;s.open(t,e,!0),s.onreadystatechange=function(){switch(s.readyState){case 0:case 1:case 2:case 3:break;case 4:o(s)}},s.ontimeout=function(){reject("timed out")};var a=Object.keys(i).filter(function(t){return i.hasOwnProperty(t)});a.map(function(t){s.setRequestHeader(t,i[t])}),r&&(s.withCredentials=r),n?s.send("application/json"==i["Content-Type"]?JSON.stringify(n):n):s.send()})}function poop(t){return new req(t)}var _prototypeProperties=function(t,e,n){e&&Object.defineProperties(t,e),n&&Object.defineProperties(t.prototype,n)},_classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};module.exports=poop;var req=function(){function t(e){_classCallCheck(this,t),this.u=e,this.h={},this.c=!1,this.p={}}return _prototypeProperties(t,null,{header:{value:function(t,e){return this.h[t]=e,this},writable:!0,configurable:!0},withCredentials:{value:function(t){return this.c=t,this},writable:!0,configurable:!0},hack:{value:function(t){return this.p[t]=!0,this},writable:!0,configurable:!0},get:{value:function(){return r("GET",this.u,void 0,this.h,this.c)},writable:!0,configurable:!0},put:{value:function(t){return this.h["Content-Type"]||this.p["no-content-type"]||(this.h["Content-Type"]="application/json"),r("PUT",this.u,t,this.h,this.c)},writable:!0,configurable:!0},post:{value:function(t){return this.h["Content-Type"]||this.p["no-content-type"]||(this.h["Content-Type"]="application/json"),r("POST",this.u,t,this.h,this.c)},writable:!0,configurable:!0},"delete":{value:function(){return r("DELETE",this.u,void 0,this.h,this.c)},writable:!0,configurable:!0},flush:{value:function(){return this["delete"]()},writable:!0,configurable:!0}}),t}();